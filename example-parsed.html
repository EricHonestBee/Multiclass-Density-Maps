<!doctype html>
<html>
    <head>
        <title>Scalable Rendering of Multiclass Density Maps with Parser</title>
<style>
canvas {
  border: 1px solid grey;
}
</style>        
    </head>
    <body>
        <h1>Rendition</h1>

        <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
        <script src="https://d3js.org/d3-fetch.v1.min.js"></script>
        <script src="dist/bundle.js" type="text/javascript"></script>
<script>
var testMain = new MCS.TestMain(), prefix = "specs/";
var configuration, interpreter;

function render(id, desc, json) {
  var conf = testMain.create_configuration(json);
  conf.load('data/').then(function(conf) {
      interp = testMain.create_interp(conf);
      console.log('interp w='+conf.width+' h='+conf.height);
      interpreter = interp;
      interp.interpret();
      var body = document.getElementsByTagName('body')[0],
          div = document.createElement("div"),
          canvas = document.createElement("canvas");
      canvas.id = id;
      body.appendChild(canvas);
      //div.appendChild(document.createTextNode(desc)); 
      //div.appendChild(canvas);
      interp.render(id);
  });
}

render('canvas1','', {
          "description": "multivariate normal data",
          "background": "Black",
          "data": {"url": "mn_data.json"},
          "smooth": {},
          "rebin": {
          },
          "compose": {
              "mix": "max",
              "mixing": "additive"
          }
          });

render('canvas2', '', {
          "description": "multivariate normal data",
          "background": "Black",
          "data": {"url": "mn_data.json"},
          "smooth": {},
          "rebin": {
          },
          "compose": {
              "mix": "mean",
              "mixing": "additive"
          }
          });

render('canvas3', '', {
          "description": "multivariate normal data",
          "background": "Black",
          "data": {"url": "mn_data.json"},
          "smooth": {},
          "rebin": { 
              "type": "square",
              "size": 10
          },
          "compose": {
              "mix": "mean",
              "mixing": "additive"
          }
          });

</script>
    </body>
</html>
