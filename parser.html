<!doctype html>
<html>
    <head>
        <title>Scalable Rendering of Multiclass Density Maps Parser</title>
<style>
canvas {
  border: 1px solid grey;
}
</style>        
    </head>
    <body>
        <h1>Rendition</h1>
        <canvas id="canvas"></canvas>

        <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
        <script src="https://d3js.org/d3-fetch.v1.min.js"></script>
        <script src="dist/bundle.js" type="text/javascript"></script>
<script>
var testMain = new MCS.TestMain(), prefix = "specs/";
var configuration, interpreter;

function render(conf) {
  configuration = conf;
  var interp = testMain.create_interp(conf);
  console.log('interp w='+conf.width+' h='+conf.height);
  interpreter = interp;
  interp.interpret();
  interp.render('canvas');
}

function load_configuration(dataset) {
  console.log('Loading '+dataset);
  testMain.parse_url(prefix+dataset, render);
}

//window.onload = load_configuration("census_data_color_max.mdm.json");
window.onload = load_configuration("mn_data_max.mdm.json");

</script>
    </body>
</html>
